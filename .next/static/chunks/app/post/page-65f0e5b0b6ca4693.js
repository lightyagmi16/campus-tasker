(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{1042:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),l=s(2115),r=s(5695),n=s(3233);function i(e){let{children:t}=e,s=(0,r.useRouter)(),[i,c]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=!0;n.N.auth.getSession().then(t=>{let{data:a}=t;e&&(a.session?c(!0):s.replace("/login"))});let{data:t}=n.N.auth.onAuthStateChange((e,t)=>{t?c(!0):s.replace("/login")});return()=>{e=!1;try{t.subscription.unsubscribe()}catch(e){}}},[s]),i)?(0,a.jsx)("div",{className:"container-app",children:t}):(0,a.jsx)("div",{className:"container-app p-6",children:"Loadingâ€¦"})}},1064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),l=s(2115),r=s(3233),n=s(1042),i=s(7605),c=s(7799),u=s(5695);function o(){let[e,t]=(0,l.useState)(""),[s,o]=(0,l.useState)(""),[d,p]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),[x,f]=(0,l.useState)(null),N=(0,u.useRouter)();async function b(){if(!e||!d)return alert("Title and location are required.");let t=Number(h||0),{error:a}=await r.N.from("tasks").insert({creator:x,title:e,description:s,location:d,tip_amount:t,status:"open"});if(a)return alert(a.message);N.replace("/")}return(0,l.useEffect)(()=>{r.N.auth.getUser().then(e=>{var t;let{data:s}=e;return f((null==(t=s.user)?void 0:t.id)||null)})},[]),(0,a.jsxs)(n.A,{children:[(0,a.jsx)(i.A,{title:"New Task"}),(0,a.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[(0,a.jsx)("input",{className:"border rounded-lg px-3 py-3 w-full",placeholder:"Task Title",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("textarea",{className:"border rounded-lg px-3 py-3 w-full",placeholder:"Description",rows:4,value:s,onChange:e=>o(e.target.value)}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-3 w-full",placeholder:"Location",value:d,onChange:e=>p(e.target.value)}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-3 w-full",placeholder:"Tip Amount (Rs.)",value:h,onChange:e=>m(e.target.value)}),(0,a.jsx)("button",{className:"w-full bg-blue-600 text-white rounded-lg py-3",onClick:b,children:"Post Task"})]}),(0,a.jsx)(c.A,{})]})}},3233:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(2354).UU)("https://ixrecmfguwautitoatcc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cmVjbWZndXdhdXRpdG9hdGNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTUxODMsImV4cCI6MjA3MDY3MTE4M30.ImkR-P4lGGIR0_e31Fu6tGLGM1DPE-15mcN-Q9iFR1w",{auth:{persistSession:!0,autoRefreshToken:!0}})},6934:(e,t,s)=>{Promise.resolve().then(s.bind(s,1064))},7605:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(6874),r=s.n(l);function n(e){let{title:t="Campus Tasker"}=e;return(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto px-4 py-3 flex items-center justify-between",children:(0,a.jsx)(r(),{href:"/",className:"font-semibold",children:t})})})}},7799:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(5155),l=s(6874),r=s.n(l),n=s(5695),i=s(7340),c=s(1497),u=s(4186),o=s(1007);let d=[{href:"/",label:"Feed",icon:i.A},{href:"/chat",label:"Chats",icon:c.A},{href:"/history",label:"History",icon:u.A},{href:"/profile",label:"Profile",icon:o.A}];function p(){let e=(0,n.usePathname)();return(0,a.jsx)("nav",{className:"bottom-nav",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto grid grid-cols-4 text-sm",children:d.map(t=>{let{href:s,label:l,icon:n}=t;return(0,a.jsxs)(r(),{href:s,className:"flex flex-col items-center justify-center py-2 ".concat(e===s?"text-black":"text-gray-500"),children:[(0,a.jsx)(n,{size:20}),(0,a.jsx)("span",{className:"text-[11px] mt-0.5",children:l})]},s)})})})}}},e=>{e.O(0,[354,134,441,964,358],()=>e(e.s=6934)),_N_E=e.O()}]);
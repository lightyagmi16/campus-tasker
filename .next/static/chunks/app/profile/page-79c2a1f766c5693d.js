(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{1042:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),l=s(2115),i=s(5695),n=s(3233);function r(e){let{children:t}=e,s=(0,i.useRouter)(),[r,c]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=!0;n.N.auth.getSession().then(t=>{let{data:a}=t;e&&(a.session?c(!0):s.replace("/login"))});let{data:t}=n.N.auth.onAuthStateChange((e,t)=>{t?c(!0):s.replace("/login")});return()=>{e=!1;try{t.subscription.unsubscribe()}catch(e){}}},[s]),r)?(0,a.jsx)("div",{className:"container-app",children:t}):(0,a.jsx)("div",{className:"container-app p-6",children:"Loading…"})}},1881:(e,t,s)=>{Promise.resolve().then(s.bind(s,9126))},3233:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(2354).UU)("https://ixrecmfguwautitoatcc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cmVjbWZndXdhdXRpdG9hdGNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTUxODMsImV4cCI6MjA3MDY3MTE4M30.ImkR-P4lGGIR0_e31Fu6tGLGM1DPE-15mcN-Q9iFR1w",{auth:{persistSession:!0,autoRefreshToken:!0}})},7605:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(6874),i=s.n(l);function n(e){let{title:t="Campus Tasker"}=e;return(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto px-4 py-3 flex items-center justify-between",children:(0,a.jsx)(i(),{href:"/",className:"font-semibold",children:t})})})}},7799:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var a=s(5155),l=s(6874),i=s.n(l),n=s(5695),r=s(7340),c=s(1497),u=s(4186),o=s(1007);let d=[{href:"/",label:"Feed",icon:r.A},{href:"/chat",label:"Chats",icon:c.A},{href:"/history",label:"History",icon:u.A},{href:"/profile",label:"Profile",icon:o.A}];function h(){let e=(0,n.usePathname)();return(0,a.jsx)("nav",{className:"bottom-nav",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto grid grid-cols-4 text-sm",children:d.map(t=>{let{href:s,label:l,icon:n}=t;return(0,a.jsxs)(i(),{href:s,className:"flex flex-col items-center justify-center py-2 ".concat(e===s?"text-black":"text-gray-500"),children:[(0,a.jsx)(n,{size:20}),(0,a.jsx)("span",{className:"text-[11px] mt-0.5",children:l})]},s)})})})}},9126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),l=s(1042),i=s(7605),n=s(7799),r=s(2115),c=s(3233);function u(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1);async function i(){l(!0);let{data:t}=await c.N.auth.getUser(),s=t.user.id,{error:a}=await c.N.from("user_profiles").upsert({id:s,full_name:e});l(!1),a?alert(a.message):alert("Saved")}return(0,r.useEffect)(()=>{c.N.auth.getUser().then(async e=>{var s;let{data:a}=e,l=null==(s=a.user)?void 0:s.id;if(!l)return;let{data:i}=await c.N.from("user_profiles").select("*").eq("id",l).single();i&&t(i.full_name||"")})},[]),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600",children:"Full name"}),(0,a.jsx)("input",{className:"border rounded-lg px-3 py-2 w-full mb-3",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{onClick:i,className:"w-full bg-blue-600 text-white rounded-lg py-2",disabled:s,children:s?"Saving…":"Save"})]})}function o(){async function e(){await c.N.auth.signOut(),window.location.href="/login"}return(0,a.jsxs)(l.A,{children:[(0,a.jsx)(i.A,{title:"Profile"}),(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsx)(u,{}),(0,a.jsx)("button",{onClick:e,className:"w-full border rounded-lg py-3 mt-4",children:"Logout"})]}),(0,a.jsx)(n.A,{})]})}}},e=>{e.O(0,[354,134,441,964,358],()=>e(e.s=1881)),_N_E=e.O()}]);
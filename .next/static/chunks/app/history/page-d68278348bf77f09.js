(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[429],{1042:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),i=t(2115),c=t(5695),r=t(3233);function l(e){let{children:s}=e,t=(0,c.useRouter)(),[l,n]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=!0;r.N.auth.getSession().then(s=>{let{data:a}=s;e&&(a.session?n(!0):t.replace("/login"))});let{data:s}=r.N.auth.onAuthStateChange((e,s)=>{s?n(!0):t.replace("/login")});return()=>{e=!1;try{s.subscription.unsubscribe()}catch(e){}}},[t]),l)?(0,a.jsx)("div",{className:"container-app",children:s}):(0,a.jsx)("div",{className:"container-app p-6",children:"Loadingâ€¦"})}},3233:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});let a=(0,t(2354).UU)("https://ixrecmfguwautitoatcc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml4cmVjbWZndXdhdXRpdG9hdGNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTUxODMsImV4cCI6MjA3MDY3MTE4M30.ImkR-P4lGGIR0_e31Fu6tGLGM1DPE-15mcN-Q9iFR1w",{auth:{persistSession:!0,autoRefreshToken:!0}})},7064:(e,s,t)=>{Promise.resolve().then(t.bind(t,8238))},7605:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155),i=t(6874),c=t.n(i);function r(e){let{title:s="Campus Tasker"}=e;return(0,a.jsx)("div",{className:"header",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto px-4 py-3 flex items-center justify-between",children:(0,a.jsx)(c(),{href:"/",className:"font-semibold",children:s})})})}},7799:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var a=t(5155),i=t(6874),c=t.n(i),r=t(5695),l=t(7340),n=t(1497),d=t(4186),o=t(1007);let m=[{href:"/",label:"Feed",icon:l.A},{href:"/chat",label:"Chats",icon:n.A},{href:"/history",label:"History",icon:d.A},{href:"/profile",label:"Profile",icon:o.A}];function u(){let e=(0,r.usePathname)();return(0,a.jsx)("nav",{className:"bottom-nav",children:(0,a.jsx)("div",{className:"max-w-[480px] mx-auto grid grid-cols-4 text-sm",children:m.map(s=>{let{href:t,label:i,icon:r}=s;return(0,a.jsxs)(c(),{href:t,className:"flex flex-col items-center justify-center py-2 ".concat(e===t?"text-black":"text-gray-500"),children:[(0,a.jsx)(r,{size:20}),(0,a.jsx)("span",{className:"text-[11px] mt-0.5",children:i})]},t)})})})}},8238:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),i=t(2115),c=t(1042),r=t(7605),l=t(7799),n=t(3233),d=t(9850);function o(){let[e,s]=(0,i.useState)([]),[t,o]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{let{data:e}=await n.N.auth.getUser(),t=e.user.id,{data:a}=await n.N.from("tasks").select("*").eq("creator",t).order("created_at",{ascending:!1});s(a||[]);let{data:i}=await n.N.from("task_assignees").select("task_id").eq("helper",t),c=(i||[]).map(e=>e.task_id);if(c.length){let{data:e}=await n.N.from("tasks").select("*").in("id",c).order("created_at",{ascending:!1});o(e||[])}else o([])})()},[]),(0,a.jsxs)(c.A,{children:[(0,a.jsx)(r.A,{title:"History"}),(0,a.jsxs)("div",{className:"px-4 py-3",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Your Posted Tasks"}),0===e.length&&(0,a.jsx)("div",{className:"text-gray-500 mb-4",children:"No tasks posted yet."}),e.map(e=>(0,a.jsx)(d.A,{task:e},e.id)),(0,a.jsx)("h3",{className:"font-semibold mt-6 mb-2",children:"Tasks You Accepted"}),0===t.length&&(0,a.jsx)("div",{className:"text-gray-500",children:"No accepted tasks yet."}),t.map(e=>(0,a.jsx)(d.A,{task:e},e.id))]}),(0,a.jsx)(l.A,{})]})}},9850:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155),i=t(6874),c=t.n(i);function r(e){let{task:s}=e;return(0,a.jsxs)(c(),{href:"/task/".concat(s.id),className:"block border rounded-xl p-4 mb-3 hover:bg-gray-50",children:[(0,a.jsx)("div",{className:"font-medium",children:s.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["\uD83D\uDCCD ",s.location]}),(0,a.jsxs)("div",{className:"text-blue-600 font-semibold",children:["Tip: Rs. ",s.tip_amount]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Status: ",s.status]})]})}}},e=>{e.O(0,[354,134,441,964,358],()=>e(e.s=7064)),_N_E=e.O()}]);